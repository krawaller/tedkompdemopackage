<!DOCTYPE html>
<html>
<head>
	<title>Demo: stateless</title>
	<meta charset="UTF-8">
	<script type="text/javascript" src="../libs/browserassets.js"></script>
	<script type="text/javascript" src="../libs/babel.js"></script>
	<script type="text/javascript" src="../libs/prism.js"></script>
	<script type="text/javascript" src="../libs/addsource.js"></script>
	<script type="text/javascript" src="../libs/sinon.js"></script>
	<link rel="stylesheet" href="../libs/prism.css">
	<link rel="stylesheet" href="../libs/demo.css">
	<link rel="stylesheet" href="../libs/all.css">
</head>
<body>
<div class='topbar'><div>Tedkomp JavaScript > <a href='../index.html'>Home</a> > <a href='./index.html'>Demos</a> > <span>stateless</span></div></div>
<div class="wrapper demowrapper">
	<div class="demo">
<button id="clearbtn">Clear</button>
<button id="checkbtn">Check hero HP</button>
<button id="hitbtn">Hit hero</button>

<script type="text/babel">

var living = {
	takeDamage: function(entity,dmg){
		var ret = Object.assign({}, entity, {
			hp: Math.max(entity.hp-dmg,0)
		});
		print(entity.name,"took",dmg,"damage!");
		return ret;
	}
}

var hero = {name: "Hero", hp: 10};

$("#checkbtn").click(function(){
	print("Hero now has",hero.hp,"HP");
});

$("#hitbtn").click(function(){
	hero = living.takeDamage(hero, 3);
});

</script>

	<div id="logs"></div>
</div>
	<div id="sourcecode"></div>
</div>
	<script type="text/javascript">
		$(function(){
			$("#clearbtn").click(function(){
				$("#logs").empty();
			});
		});
	</script>
</body>
</html>